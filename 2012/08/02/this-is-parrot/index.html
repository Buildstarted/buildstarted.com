<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <title>This is Parrot &#8211; BuildStarted.com</title>
    <link rel="stylesheet" type="text/css" href="/stylesheets/style.css" />
</head>
<body class="home blog">
    <div id="page" class="hfeed site">
        <header id="masthead" class="site-header" role="banner">
            <hgroup>
                <a class="site-logo" href="https://buildstarted.com/" title="BuildStarted.com" rel="home">
                    <img src="https://gravatar.com/avatar/b94abfe0e3e68e2d739c606ee6f2b7b4/?s=100&#038;d=mm" alt="BuildStarted.com" width="100" height="100" class="no-grav"></a>
                <h1 class="site-title"><a href="https://buildstarted.com/" title="BuildStarted.com" rel="home">BuildStarted.com</a></h1>
                <h2 class="site-description">Newly minted father. C# dev that enjoys playing around with random ideas.</h2>
            </hgroup>
            <nav role="navigation" class="site-navigation main-navigation">
                <h1 class="assistive-text">Menu</h1>
                <div class="assistive-text skip-link"><a href="#content" title="Skip to content">Skip to content</a></div>
                <div class="menu">
                    <ul>
                        <li class="page_item page-item-2"><a href="https://buildstarted.com/about/">About</a></li>
                    </ul>
                </div>
            </nav>
        </header>
        <div id="main">
            <div id="primary" class="site-content"><p style="text-align: center;font-size: 1.5em;color: red;">This blog post is archived. I consider it outdated and not very useful anymore but since there are many who still visit these pages I've decided to keep them up.</p>
                <div id="content" role="main">
                    <div id="post">
    <h1>This is Parrot</h1>

    <p>For the past week and a half I&rsquo;ve been working on a new view engine for Asp.Net MVC called <a href="https://github.com/Buildstarted/Parrot">Parrot</a>. (I chose the name because there were only 2 nuget packages that showed up with that name - and it sort of fit with what a view engine is. It repeats something but different.)</p>

<p>Parrot was designed to be similar to css. Something familiar that everyone should just be able to pick up without much knowledge. Here&rsquo;s a quick example.</p>

<pre><code>ul#phoneNumbers.phone(PhoneNumbers) {
    li[data-val-id=Id] {
        label(Type)
        span(Number)
    }
}
</code></pre>

<p>Note the ul element is followed by an optional id and optional class declarations. There&rsquo;s an additional <code>(PhoneNumbers)</code> parameter. This tells us that the ul is bound to the model property <code>PhoneNumbers</code>. Since the model property is <code>IEnumerable</code> the engine automatically loops over the child template and applies the current enumerable element to it. If we had a model like the following:</p>

<pre><code>new {
     PhoneNumbers = 
     new [
         new { Id = 1, Type = "home", Number = "212 555-1234" },
         new { Id = 2, Type = "fax",  Number = "646 555-4567" }
     ]
 }


&lt;ul class="phone" id="phoneNumbers"&gt;
    &lt;li data-val-id="1"&gt;
        &lt;label&gt;home&lt;/label&gt;
        &lt;span&gt;212 555-1234&lt;/span&gt;
    &lt;/li&gt;
    &lt;li data-val-id="2"&gt;
        &lt;label&gt;fax&lt;/label&gt;
        &lt;span&gt;646 555-4567&lt;/span&gt;
    &lt;/li&gt;
&lt;/ul&gt;
</code></pre>

<p>Each element can have a custom renderer. This allows for extreme flexibility when it comes to what parrot does. Suppose you want to loop a bunch of divs but inlined with other elements. You can create your own renderer for a custom element name like <code>foreach</code>.</p>

<p>Now instead of looping within a ul it just outputs a list of divs.</p>

<pre><code>foreach(PhoneNumbers) {
    div[data-val-id=Id] {
        label(Type)
        span(Number)
    }
}
</code></pre>

<script src="https://gist.github.com/3239182.js?file=ForeachRenderer.cs"></script>


<p>You can even inject your own RendererFactory that will replace all renderers with something completely different. If you don&rsquo;t want to output html but instead want to output markdown or maybe html but raw with syntax highlighting or anything. Completely extensible.</p>

<p>This is just the start. The language is still going through refinements as different usage scenarios popup but the basic structure should remain the same.</p>

<p>You can download the source from Github <a href="https://github.com/Buildstarted/Parrot">here</a>.</p>

<p><strong>-Ben Dornis</strong></p>


    
</div>
                </div>
                <!-- #content -->
            </div>
            <!-- #primary .site-content --><!-- #secondary .widget-area -->


        </div>
        <!-- #main -->

        <footer id="colophon" class="site-footer" role="contentinfo">
            <div class="site-info">
                Powered by <a href="https://github.com/" rel="generator">Github</a><span class="sep"> | </span>Theme: Publish by <a href="https://kovshenin.com/" rel="designer">Konstantin Kovshenin</a>.	
            </div>
            <!-- .site-info -->
        </footer>
        <!-- #colophon .site-footer -->
    </div>
    <!-- #page .hfeed .site -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script src='/javascripts/prettify.js' type='text/javascript'></script>
    <script type='text/javascript'>
        $(function () {
            $("pre code").parent().each(function () {
                if (!$(this).hasClass("prettyprint")) {
                    $(this).addClass("prettyprint");
                    a = true
                }
            });

            prettyPrint();
        });
    </script>
<script>_dna = window._dna || {};_dna.siteId = 'buildstarted.com';_dna.outlink = true;(function () {let dna = document.createElement('script');dna.type = 'text/javascript';dna.async = true;dna.src = '//dna.buildstarted.com/t.js';let s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(dna, s);})();</script>
</body>
</html>
